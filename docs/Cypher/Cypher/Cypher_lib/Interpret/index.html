<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Interpret (Cypher.Cypher_lib.Interpret)</title><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.3.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">Cypher</a> &#x00BB; <a href="../index.html">Cypher_lib</a> &#x00BB; Interpret</nav><header class="odoc-preamble"><h1>Module <code><span>Cypher_lib.Interpret</span></code></h1><p>Copyright 2023-2024, Arseniy Baytenov</p></header><div class="odoc-content"><p>SPDX-License-Identifier: MIT</p><div class="odoc-spec"><div class="spec module anchored" id="module-NameMap"><a href="#module-NameMap" class="anchor"></a><code><span><span class="keyword">module</span> <a href="NameMap/index.html">NameMap</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-NameSet"><a href="#module-NameSet" class="anchor"></a><code><span><span class="keyword">module</span> <a href="NameSet/index.html">NameSet</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-entity"><a href="#type-entity" class="anchor"></a><code><span><span class="keyword">type</span> entity</span><span> = int * <a href="NameSet/index.html#type-t">NameSet.t</a> * <span><a href="../Ast/index.html#type-constant">Ast.constant</a> <a href="NameMap/index.html#type-t">NameMap.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Node"><a href="#module-Node" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Node/index.html">Node</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Edge"><a href="#module-Edge" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Edge/index.html">Edge</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-graph"><a href="#type-graph" class="anchor"></a><code><span><span class="keyword">type</span> graph</span><span> = <span class="xref-unresolved">Graph</span>.Persistent.Digraph.ConcreteLabeled(<span class="xref-unresolved">Node</span>)(<span class="xref-unresolved">Edge</span>).t</span></code></div><div class="spec-doc"><p>graph type</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-outvalue"><a href="#type-outvalue" class="anchor"></a><code><span><span class="keyword">type</span> outvalue</span><span> = </span></code><ol><li id="type-outvalue.OutConstant" class="def variant constructor anchored"><a href="#type-outvalue.OutConstant" class="anchor"></a><code><span>| </span><span><span class="constructor">OutConstant</span> <span class="keyword">of</span> <a href="../Ast/index.html#type-constant">Ast.constant</a></span></code></li><li id="type-outvalue.OutNode" class="def variant constructor anchored"><a href="#type-outvalue.OutNode" class="anchor"></a><code><span>| </span><span><span class="constructor">OutNode</span> <span class="keyword">of</span> int * <span>string list</span> * <span><span>(string * <a href="../Ast/index.html#type-constant">Ast.constant</a>)</span> list</span></span></code></li><li id="type-outvalue.OutRel" class="def variant constructor anchored"><a href="#type-outvalue.OutRel" class="anchor"></a><code><span>| </span><span><span class="constructor">OutRel</span> <span class="keyword">of</span> int * int * <span>string list</span> * <span><span>(string * <a href="../Ast/index.html#type-constant">Ast.constant</a>)</span> list</span> * int</span></code></li></ol></div><div class="spec-doc"><p>type of value that can be in output</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_outvalue"><a href="#val-pp_outvalue" class="anchor"></a><code><span><span class="keyword">val</span> pp_outvalue : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-outvalue">outvalue</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-show_outvalue"><a href="#val-show_outvalue" class="anchor"></a><code><span><span class="keyword">val</span> show_outvalue : <span><a href="#type-outvalue">outvalue</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-output"><a href="#type-output" class="anchor"></a><code><span><span class="keyword">type</span> output</span><span> = <span>(int * int)</span> * <span>(int * int)</span> * <span><span><span>(string * <a href="#type-outvalue">outvalue</a>)</span> list</span> list</span></span></code></div><div class="spec-doc"><p>type of output: ((num_creates_nodes, num_created_rels), (num_deleted_nodes, num_deleted_rels), RETURN_output)</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_output"><a href="#val-pp_output" class="anchor"></a><code><span><span class="keyword">val</span> pp_output : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-output">output</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-show_output"><a href="#val-show_output" class="anchor"></a><code><span><span class="keyword">val</span> show_output : <span><a href="#type-output">output</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-expr_error"><a href="#type-expr_error" class="anchor"></a><code><span><span class="keyword">type</span> expr_error</span><span> = </span></code><ol><li id="type-expr_error.Type_mismatch" class="def variant constructor anchored"><a href="#type-expr_error.Type_mismatch" class="anchor"></a><code><span>| </span><span><span class="constructor">Type_mismatch</span></span></code></li><li id="type-expr_error.Division_by_zero" class="def variant constructor anchored"><a href="#type-expr_error.Division_by_zero" class="anchor"></a><code><span>| </span><span><span class="constructor">Division_by_zero</span></span></code></li><li id="type-expr_error.Undefined_id" class="def variant constructor anchored"><a href="#type-expr_error.Undefined_id" class="anchor"></a><code><span>| </span><span><span class="constructor">Undefined_id</span> <span class="keyword">of</span> string</span></code></li><li id="type-expr_error.Deleted_entity" class="def variant constructor anchored"><a href="#type-expr_error.Deleted_entity" class="anchor"></a><code><span>| </span><span><span class="constructor">Deleted_entity</span> <span class="keyword">of</span> int</span></code></li></ol></div><div class="spec-doc"><p>type of error for evaluating expressions</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_expr_error"><a href="#val-pp_expr_error" class="anchor"></a><code><span><span class="keyword">val</span> pp_expr_error : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-expr_error">expr_error</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-show_expr_error"><a href="#val-show_expr_error" class="anchor"></a><code><span><span class="keyword">val</span> show_expr_error : <span><a href="#type-expr_error">expr_error</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-interpreter_error"><a href="#type-interpreter_error" class="anchor"></a><code><span><span class="keyword">type</span> interpreter_error</span><span> = </span></code><ol><li id="type-interpreter_error.Type_mismatch" class="def variant constructor anchored"><a href="#type-interpreter_error.Type_mismatch" class="anchor"></a><code><span>| </span><span><span class="constructor">Type_mismatch</span></span></code></li><li id="type-interpreter_error.Multiple_def" class="def variant constructor anchored"><a href="#type-interpreter_error.Multiple_def" class="anchor"></a><code><span>| </span><span><span class="constructor">Multiple_def</span> <span class="keyword">of</span> string</span></code></li><li id="type-interpreter_error.Expr_err" class="def variant constructor anchored"><a href="#type-interpreter_error.Expr_err" class="anchor"></a><code><span>| </span><span><span class="constructor">Expr_err</span> <span class="keyword">of</span> <a href="#type-expr_error">expr_error</a></span></code></li><li id="type-interpreter_error.Unable_node_deletion" class="def variant constructor anchored"><a href="#type-interpreter_error.Unable_node_deletion" class="anchor"></a><code><span>| </span><span><span class="constructor">Unable_node_deletion</span> <span class="keyword">of</span> int</span></code></li><li id="type-interpreter_error.ID_overflow" class="def variant constructor anchored"><a href="#type-interpreter_error.ID_overflow" class="anchor"></a><code><span>| </span><span><span class="constructor">ID_overflow</span></span></code></li><li id="type-interpreter_error.Undirected_rel" class="def variant constructor anchored"><a href="#type-interpreter_error.Undirected_rel" class="anchor"></a><code><span>| </span><span><span class="constructor">Undirected_rel</span></span></code></li></ol></div><div class="spec-doc"><p>type of error for interpreting request</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_interpreter_error"><a href="#val-pp_interpreter_error" class="anchor"></a><code><span><span class="keyword">val</span> pp_interpreter_error : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-interpreter_error">interpreter_error</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-show_interpreter_error"><a href="#val-show_interpreter_error" class="anchor"></a><code><span><span class="keyword">val</span> show_interpreter_error : <span><a href="#type-interpreter_error">interpreter_error</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-req_error"><a href="#type-req_error" class="anchor"></a><code><span><span class="keyword">type</span> req_error</span><span> = </span></code><ol><li id="type-req_error.Parser_err" class="def variant constructor anchored"><a href="#type-req_error.Parser_err" class="anchor"></a><code><span>| </span><span><span class="constructor">Parser_err</span> <span class="keyword">of</span> string</span></code></li><li id="type-req_error.Interpreter_err" class="def variant constructor anchored"><a href="#type-req_error.Interpreter_err" class="anchor"></a><code><span>| </span><span><span class="constructor">Interpreter_err</span> <span class="keyword">of</span> <a href="#type-interpreter_error">interpreter_error</a></span></code></li></ol></div><div class="spec-doc"><p>type of error for parsing and interpreting request</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_req_error"><a href="#val-pp_req_error" class="anchor"></a><code><span><span class="keyword">val</span> pp_req_error : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-req_error">req_error</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-show_req_error"><a href="#val-show_req_error" class="anchor"></a><code><span><span class="keyword">val</span> show_req_error : <span><a href="#type-req_error">req_error</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-create_empty_graph"><a href="#val-create_empty_graph" class="anchor"></a><code><span><span class="keyword">val</span> create_empty_graph : <a href="#type-graph">graph</a></span></code></div><div class="spec-doc"><p>creates empty graph</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-interpret_request"><a href="#val-interpret_request" class="anchor"></a><code><span><span class="keyword">val</span> interpret_request : 
  <span><a href="#type-graph">graph</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Ast/index.html#type-clause">Ast.clause</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="#type-graph">graph</a> * <a href="#type-output">output</a>, <a href="#type-req_error">req_error</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div><div class="spec-doc"><p>takes a graph and a request, interprets it and returns a new graph and an output or an error</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parse_and_interpret_request"><a href="#val-parse_and_interpret_request" class="anchor"></a><code><span><span class="keyword">val</span> parse_and_interpret_request : 
  <span><a href="#type-graph">graph</a> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="#type-graph">graph</a> * <a href="#type-output">output</a>, <a href="#type-req_error">req_error</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div><div class="spec-doc"><p>takes a graph and a request, parses and interprets it and returns a new graph and an output or an error</p></div></div></div></body></html>
